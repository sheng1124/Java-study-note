# [Java] (14) Java 套件(package)、類別存取權限、引用(import)

## 套件(package)
* 前言
    * 如果有一天類別太多的，甚至發生名稱相衝突的情形，就需要套件來解決
    * 套件是以階層性的方式來管控，整體架構十分清楚，就像買車，會需要告訴業務要哪個廠牌，哪個類型的車
* 說明
    * 套件的概念類似 c++ 的 namespace
    * 其目的在於管理、組織類別，有效將類別分門別類，同一類型的類別集中管理
    * 避免相同類別名稱發生名稱衝突，不同的套件可以有相同名稱的類別
    * 套件包是一組相關類別的容器，其中一些類別是可訪問的，而其他類別是為了內部目的而保留
    * 沒有套件的類別會被歸屬到預設套件裡
* 套件的定義
    * 需要使用保留字 package ，在第一行就要寫上去
    * 一個檔案只能定義一個套件名稱，一個套件可有多個類別(檔案)
    * 每個檔案要有一個公開(public)的類別，公開類別要與檔名一致
    * 檔案內的類別均是套件所擁有，同個資料夾的類別均屬於同一個套件
    ```java=
    package 套件名稱;
    ```
    * 定義階層式的套件
    ```java=
    package 套件名稱1.套件名稱2;
    ```
    
## 套件的運作
* 套件與資料夾
    * 當定義好套件，要把編譯過的 .class 檔放到和套件名稱一樣的資料夾底下
    * 套件即目錄名稱，表示編譯過的 .class 應該要放到有一個名為套件名稱的資料夾底下
    * 一般使用 javac 編譯 不會將 .class 檔放到套件名稱資料夾底下，需要給特定的參數才可以自動產生資料夾
    * 編譯有套件的檔案
    ```linux=
    $ javac -cp . -d . test.java
    ```
    * 會在編譯的資料夾產生套件名稱的目錄，底下會有編譯過的 .class 檔
* 約定成俗的套件命名規則
    * 公司如有網域，應以網域名稱相反順序命名
    * ex: abcd.art.com 套件名稱為 ```com.art.abcd.package-name```

## 類別與類別中成員權限的設定
* 類別可以設定的存取預算子有 public 和預設，類別內部的屬性、方法、內部類別可以設定 protected 、 private
* 不同的資料夾即不同的套件，類別彼此的存取權限有所差別
1. 當要使用類別時，類別之間可分為兩種情形
    * 兩個類別在同一套件
        * 不管是 public、預設類別都可以生成對方的物件
    * 兩個類別在不同套件
        * 只有 public 類別可被對方生成該物件
2. 當要使用類別的成員時， 類別之間可分為兩種情形
    * 兩個類別在同一套件
        * 只有 private 的成員無法存取， public 、 protected 、預設成員皆可存取
    * 兩個類別在不同套件
        * 只有 public 的成員可以存取， private 、 protect、預設成員皆無法存取
3. 當要繼承另一個類別時， 類別之間可分為兩種情形
    * 兩個類別在同一套件
        * 只有 private 的成員不會被繼承， public 、 protected、預設類別皆會被繼承
    * 兩個類別在不同套件
        * private 、預設成員不會被繼承， public 、 protected 的成員會被繼承

* 簡易圖表
    * 兩個類別在同一套件 (預設=>public)
    
    | | 生成物件 | 使用內部成員 | 成員繼承 |
    | -------- | -------- | -------- |-|
    | 不宣告(預設) | 可 |可  | 可 |
    | public     | 可 | 可 | 可 |
    | protected  |  | 可 | 可 |
    | private    |  | 不可 | 不可 |
    
    * 兩個類別在不同套件 (預設=>private)
    
    | | 生成物件 | 使用內部成員 | 繼承 |
    | -------- | -------- | -------- |-|
    | 不宣告(預設) | 不可 | 不可 | 不可 |
    | public     | 可 | 可 | 可 |
    | protected  |  | 不可 | 可 |
    | private    |  | 不可 | 不可 |

## 引用外部套件的類別

* 要使用不同套件的類別，必須要用 ```import``` 引用該套件類別才能宣告
* 語法:
    ```java=
    import 套件名稱1.套件名稱2.類別名稱; // 法1
    import 套件名稱1.*; //法2 引用該套件底下的所有類別
    ```
## import static
* 傳統的 import 只能引入到"類別"
* import static 將可以引入到類別中的"靜態成員"
* 例子:
    ```java=
    import java.lang.System; //傳統方式，只能引入到類別
    ...
        System.out.println("hello");
    ```
    ```java=
    import static java.lang.System.out; //import static 將引入該類別的"靜態成員"
    ....
        out.println("hello");
    ```
    ```java=
    import static java.lang.System.*; //import all static 
    ```
    * System 是 java.lang 下的一個類別， out 是屬於 System 的靜態成員，println() 並非靜態成員
    * import static 所指到的東西一定要是靜態的成員(static)

## Java 套件種類
* 內置套件
    * 這些類別是 Java API 的一部分，常用的有
    * java.lang ，java會自動導入的套件，最根本的東西，
    * java.io ，輸入輸出
    * java.utli ，常用於時間
    * java.applet ，Applet 的創建
    * java.awt ，圖形
    * java.net ，網路
* 自定義套件
    * 公司、自己定義的套件
* 預設套建
    * 不設定套件的類別，會將類別自動歸納為 java.lang 套件中 
###### tags: `Java 學習筆記`
